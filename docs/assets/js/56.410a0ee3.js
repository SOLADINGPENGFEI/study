(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{227:function(t,e,r){"use strict";r.r(e);var n=r(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._m(19),t._v(" "),r("p",[t._v("index.js")]),t._v(" "),t._m(20),r("p",[t._v("react/reactView.jsx")]),t._v(" "),t._m(21),r("p",[t._v("react/react.config.js")]),t._v(" "),t._m(22),r("p",[t._v("components/Tab.js")]),t._v(" "),t._m(23),t._m(24),t._v(" "),r("ul",[r("li",[t._v("登录授权，用户没有登录只能访问登录页面，如果处于登录状态则跳转到当前用户的默认首页")]),t._v(" "),r("li",[t._v("路由授权，当前登录用户的角色，如果对一个 URL 没有权限访问，则会呈现403")]),t._v(" "),r("li",[t._v("数据授权，当访问一个没有权限的API，则跳转到 403 页面")]),t._v(" "),r("li",[t._v("操作授权，当页面中某个按钮或者区域没有权限访问则在页面中隐藏 "),r("font",{attrs:{face:"黑体"}},[t._v("我是黑体字")])],1),t._v(" "),r("li",[t._v("路由权限快速入口")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://www.jianshu.com/p/b0ac39fcd7fe",target:"_blank",rel:"noopener noreferrer"}},[t._v("路由权限"),r("OutboundLink")],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"react路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react路由","aria-hidden":"true"}},[this._v("#")]),this._v(" React路由")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h5",{attrs:{id:"路由模式-2种"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由模式-2种","aria-hidden":"true"}},[this._v("#")]),this._v(" 路由模式(2种)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("hash")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("改变地址 -> push     ->  window.location.hash=\n         -> replace  -> window.location.replace(url)\nhashchange\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("browser/history")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("改变地址 -> pushstate  -> window.history.pushState({}, `这是标题`, this.getAttribute('href'));\n        ->  replacestate  -> window.history.replaceState({}, `这是标题`, this.getAttribute('href'));\npopState\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_1、react-router-dom"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、react-router-dom","aria-hidden":"true"}},[this._v("#")]),this._v(" 1、react-router-dom")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("web前段用的")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('Switch\n// 只显示匹配的第一个子路由，然后就不往下匹配了\n\n\n// 当route不给path属性是会匹配路由\n<Route component={()=><h1>未匹配路由</h1>}/>\n\n// redirect不给from属性是也会匹配任意匹配\n<Redirect exact to=\'/index\'></Redirect>\n\n引入\nimport {\n    HashRouter as Router,   // 使用哈希版本\n    Link,   // 相当于vue的router-link\n    Redirect,  // 改变重定向\n    Route   // 相当于vue的router-view\n} from \'react-router-dom\';\n\nrender(){\n        return <Router>\n                    <Fragment>\n                        <Switch>\n                             // 占位标签，如果path与当前路径匹配，渲染component\n                             // exact表示精准匹配，当path与当前路径一模一样才匹配\n                            <Route exact path="/index" component={()=><h1>我是首页</h1>}/>\n                            <Route path="/taobao" component={()=><h1>我是淘宝</h1>}/>\n                        </Switch>\n                        <footer>\n                            // 导航标签 to属性声明要跳转的路径\n                            <Link to="/index">首页</Link>\n                            <Link to="/taobao">淘宝</Link>\n                            <Redirect exact from="/" to="/index"></Redirect>\n                        </footer>\n                    </Fragment>\n            </Router>\n    }\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_2、react-router-native"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、react-router-native","aria-hidden":"true"}},[this._v("#")]),this._v(" 2、react-router-native")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("native用的")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_3、hashrouter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、hashrouter","aria-hidden":"true"}},[this._v("#")]),this._v(" 3、HashRouter")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("哈希模式(#)  只存在浏览器端，服务器会忽略")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("瞄点：不会刷新浏览器，跳转页面")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_4、browserrouter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、browserrouter","aria-hidden":"true"}},[this._v("#")]),this._v(" 4、BrowserRouter")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("浏览器模式(localhost:3000/tab)  // 假的url，伪地址")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_5、后退"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、后退","aria-hidden":"true"}},[this._v("#")]),this._v(" 5、后退")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("window.history.go(-1)")]),this._v(" "),e("li",[this._v("window.history.back()")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("<button onClick={()=>{\n    window.history.back()\n}}>\n    后退\n</button>\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_6、路由的封装-一级路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、路由的封装-一级路由","aria-hidden":"true"}},[this._v("#")]),this._v(" 6、路由的封装(一级路由)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter as Router} from 'react-router-dom';\n\n// 封装的类似于router-view的文件\nimport RouterView from './react/reactView';\n// 路由配置\nimport config from './react/react.config';\n\nReactDOM.render(<Router>\n    <RouterView routes={config.routes}></RouterView>\n</Router>,document.getElementById('root'));\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("import React from 'react';\nimport {Switch,Route,Redirect} from 'react-router-dom';\n\nexport default (props)=>{\n    return <Switch>{\n        props.routes.map((item,index)=>{\n            return <Route key={index} path={item.path} render={(props)=>{\n                if(item.children){\n                    // 渲染组件\n                    // ...props 展开路由信息传递下去\n                    // item.children 把子路由配置传递下去\n                    return <item.component {...props} routes={item.children}/>\n                }else{\n                    return <item.component {...props}/>\n                }\n            }}></Route>\n        })\n    }\n    <Redirect exact from='/' to='/tab'></Redirect>\n    </Switch>\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("// 一级路由\nimport Tab from '../components/Tab.jsx';\nimport Detail from '../components/Detail.jsx';\n\n// 二级路由\nimport Hot from '../components/include/Hot.jsx';\nimport Movie from '../components/include/Movie.jsx';\nimport My from '../components/include/My.jsx';\n\nexport default{\n    routes:[\n        {\n            path:'/tab',\n            component:Tab,\n            children:[\n                {\n                    path:'/tab/hot',\n                    component:Hot\n                }, {\n                    path:'/tab/movie',\n                    component:Movie\n                }, {\n                    path:'/tab/my',\n                    component:My\n                }\n            ]\n        },{\n            path:'/detail',\n            component:Detail\n        }\n    ]\n}\n\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('import React,{Component} from \'react\';\nimport {NavLink} from \'react-router-dom\';\n\nclass Detail extends Component{\n    constructor(props){\n        super(props)\n    }\n\n    render(){\n        return <div>\n            <footer>\n                <NavLink to="/tab/hot">热映</NavLink>\n                <NavLink to="/tab/movie">电影</NavLink>\n                <NavLink to="/tab/my">我的</NavLink>\n            </footer>\n        </div>\n    }\n}\n\nexport default Detail;\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"路由授权"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由授权","aria-hidden":"true"}},[this._v("#")]),this._v(" 路由授权")])}],!1,null,null,null);e.default=a.exports}}]);